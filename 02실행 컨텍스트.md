# 02 실행 컨텍스트  
## 01 실행 컨텍스트란?  
-실행 컨텍스트와 콜 스택  
```js
// -------------------------- (1)
var a = 1;
function outer() {
  function inner() {
    console.log(a); // undefined
    var a = 3;
  }
  inner(); // ------------ (2)
  console.log(a); // 1
}
outer(); // ---------------- (3)
console.log(a); // 1
```
(1)처음 자바스크립트 코드를 실행하는 순간 전역 콘텍스트가 콜 스택에 담긴다.  
최상단 부분은 별도의 실행 명령 없이도 브라우저에서 자동으로 실행  
자바스크립트 파일이 열리는 순간 전역 컨텍스트가 활성화됨  

콜 스택에서는 전역 컨텍스트 외에 다른 덩어리가 없으므로 전역 컨텍스트와 관련괴 코드들을 순차적으로 진행하다가
(3)에서 outer함수를 호출하면 자바스크립트 엔진은 outer 실행 컨텍스트를 생성한 후 콜 스택에 담는다.  
(2)에서 inner함수의 실행 컨텍스트가 가장 위에 담기면 outer코드 중단하고 inner코드 순서대로 진행한다.

inner에 담기는 정보  
-VariableEnvironment: 현재 컨텍스트 내의 식별자들에 대한 정보 + 외부 환경 정보, 선언 시점의 LexicalEnvironment의 스냅샷으로 변경사항은 반영 안됨.  
-LexicalEnvironment: 처음에는 위와 같지만 변경 사항이 실시간으로 반영됨.
-ThisBinding: this식별자가 바라봐야 할 대상 객체.

## 02 VariableEnvironment
내용은 LexicalEnvironment와 같지만 최초 실행시 스냅샷을 유지한다는 차이점이 있다.  
실행 컨텍스트를 생성할 때 VariableEnvironment에 정보를 먼저 담고 이를 복사해서 LexicalEnvironment를 만들고  
이후에는 주로 LexicalEnvironment를 사용  

## 03 LexicalEnvironment  
-매개변수와 변수에 대한 호이스팅  
```js
function a(x) {
  // 수집 대상 1(매개변수)
  console.log(x); // (1)
  var x; // 수집 대상 2(변수 선언)
  console.log(x); // (2)
  var x = 2; // 수집 대상 3(변수 선언)
  console.log(x); // (3)
}
a(1);
```
